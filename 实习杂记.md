### 书籍推荐:《重构》

团队CR:
1、AI工具辅助CR
2、代码提测、上线之前CR
3、代码基础问题，NPE，异常，代码重复，待进一步补充
避免代码冗余、注释、功能扩展

#### 一、淘宝直播客户端和app页面、功能整理

主播、商品、消费者
	tblive首页:直播、主播成长、活动、数据等功能,对各个子模块统计展示,附带部分数据
	了解直播的开播、流量、展品、关播的过程
	主播成长的环节,等级、粉丝、活动等等,主播的等级影响业务的功能,主播的身份,达人和商家,
商家带店铺,身份不一样,活动、任务、引流下发;直播主要做主播成长,辅助主播参加活动,提高流
量,做任务和活动,达人播,店播,
	数据主要是离线和在线数据,对直播过程数据的展示,粉丝,销量等等
	跟MCN合作,提供机构的服务
	前台还有直播基础架构,还是工厂,中控,识别不同身份,菜单和模块都不一样的,做聚合,

​	主播运营工具,定位为主播提供服务,引流,商品,活动,营销玩法
​	商品,内容商业化帮主播选品,做商品、给主播提供商品

#### 二、开发注意要点

​	淘宝直播首页相当于整个中控台,对于不同身份进入之后左侧有不同的功能展示,主要实现是工厂
类,

​	对内对外的业务接口写在mediaplatform,但是我们一般不涉及
​	后期自己的需求大多数关注主播活动和流量监控
​	对数据库操作,业务在hector里,然后前台业务主要看tblive-portal
​	经常使用的小二后台,mtntaiadmin
​	对MCN是daren-agency机构应用,培养主播的,跟MCN合作,提供机构的服务
​	小店是针对直播内
​	数据bebe

客户端抓包,查看服务在哪个接口,任务,先熟悉。

##### 	app端,展示的功能较少,所以只用的核心的功能,以工具的方式展示给主播,有抓包平台,扫码即可

##### 	客户端,抓包,然后在mtop里面找到对应的接口,去熟悉业务代码,在json.cn中拆解json数据

##### 	开发,不要乱打log,只打重要信息,但凡hsf,一定要判空或者返回值,报错不要丢给别人处理

##### 	绝对不要在预发环境改线上数据、代码

##### 	不要一个do走天下,业务里面是dto,前端用vo,在portal中提供接口的时候,重新命名个vo

### 三、业务学习

​	检测到直播间有风险的才会失去浮现权
(流量调控针对公域)公域:
​	私域:需要二维码或者链接才能看到,主播测试,或者是会员直播间、满足门槛、客服直播间(有过
消费交互的、只有需要客服的服务才会进入到这个直播间)
​	从公域也可以通过会员链接进入到私域直播间,可以进行一个会员成长的活动
1、数字人为了什么?
​	能一直播,24小时展示商品,能保底流量、销售

#### 一、活动:

​	为什么出现?运营要组织平台、主播、商家的资源进行大促,为运营的活动进行自动化打通
​	定位:组织平台活动
​	业务链路:活动创建、主播提报(报名、商品、红包、优惠等等)、运营审核、活动执行(各种展示,以及
​	活动的参与)、结算环节(结算分为粗细,每天有结算、每月也有结算,结算还是奖励,现金或者流量券)
​	技术链路:在稳定性的基础上考虑可扩展性,因为活动很多,所以要有更高的可扩展性,方便扩写业务
​	活动整体会有一个活动主表,定义原子能力,完成不同活动、业务的诉求,主要是根据字段的可见范围,来筛选能参与的主播,用来控制成本
​	主表下有一个活动能力配置表
​	主播报名表,活动+主播的维度,存一个活动状态

​	物料表,物料指的是主播提报的信息(红包、商品等等),活动+主播(id去查)+物料信息
​	商品表(如果需要还是通过item_id之类的字段去查)

##### 任务系统:

​	可以理解为活动的一环

#### 二、流量调控:

​	主要是做什么：正常的推荐，用户会看到直播间，如果不做干预，强的越强，弱的越弱；所以要分为
正向和负向，

​	正向作为奖励：为直播间增加流量；

​	负向是数字人(低质直播间)，软色情流量的压制；
正向：最底层有一个流量池:
​	1、平台流量池,运营活动,团队不一样,运营可以拿流量池里面的流量去做加权
​	2、主播账户,账户有多少流量可以用,做兑换,然后给直播间加权
​	流量池的分为流量池的发放、消耗两个环节,
​		发放:运营从平台流量池下工单,流量发放给主播账户
​		消耗:从平台的流量池、主播账户扣减流量,扣减策略,创建消耗任务、执行、结算,
​	扣减的策略4个：(traffic接口内可以看到调控策略)
​	主播消耗扣减
​		剩余补贴主播,显式奖励,主播达到目标之后没用完的流量作为奖励存在主播账户
​		剩余额度归还平台流量池
​		无操作

##### 流量调控任务的技术链路:

​	流量调控操作发起：主播点击兑换、运营配置定时任务流量加权、各个系统对接(活动、任务、
聚信)
​	工程侧：hector创建消耗链路，sql操作，流量调控时间(对算法有影响,所有要传字段)和流量
数据的处理
​	中间做计算聚合，把数据调用接口，调用bebe，同步数据到igraph
​	算法对流量做一个调控，加权聚合分配和若干渠道,
​	用户在渠道内出现,通过埋点把已调控流量，同步回bebe、igraph、Hector当中
​	Hector内对操作是每场直播定时,然后对流量进行处理
​	当流量调控超过指标、主播下播的时候,完成流量调控(注意是流量调控任务完成才算完成)，进行结
算，对平台流量池和主播账户进行操作